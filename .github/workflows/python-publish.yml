# .github/workflows/python-publish.yml
name: Publish Python üêç distribution üì¶ to PyPI and TestPyPI

on:
  release:
    types: [created]

jobs:
  # check-codecov-token:
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Check PYPI_TOKEN
  #       run: echo "2 PYPI_TOKEN=${{ secrets.PYPI_TOKEN }}"

  call-publish:
    uses: nrao/gh-actions-templates-public/.github/workflows/python-publish-cngi-template.yml@main
    with:
      pypi-url: "https://pypi.org/project/xradio"
    #secrets: inherit
    secrets:
      PYPI_TOKEN: ${{ secrets.PYPI_TOKEN }} # Explicit pass instead of inherit
